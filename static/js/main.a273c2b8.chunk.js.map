{"version":3,"sources":["components/ResponsiveWrapper/ResponsiveWrapper.jsx","data.js","components/Axis/Axis.jsx","components/Axes/Axes.jsx","components/Bars/Bars.jsx","components/Tooltip/index.jsx","components/Chart/Chart.jsx","index.js","components/App/App.jsx"],"names":["ChartComponent","data","title","value","colorRange","Axis","this","renderAxis","axisType","concat","props","orient","axis","d3Axis","scale","tickSize","tickPadding","ticks","d3Select","axisElement","call","_this","react_default","a","createElement","className","ref","el","transform","translate","Component","Axes","_ref","scales","margins","svgDimensions","height","width","xProps","xScale","bottom","top","yProps","yScale","left","right","Axis_Axis_Axis","Bars","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","colorScale","scaleLinear","domain","maxValue","range","interpolate","interpolateLab","_this2","_this$props","bars","map","datum","key","x","y","bandwidth","fill","onMouseOver","onMouseOverCallback","onMouseOut","onMouseOutCallback","Tooltip","hoveredBar","styles","style","colSpan","Chart","scaleBand","state","Math","min","parentWidth","max","apply","toConsumableArray","d","padding","Bars_Bars","setState","ResponsiveWrapper","_Component","ResponsiveChart","containerWidth","fitParentContainer","bind","assertThisInitialized","inherits","createClass","window","addEventListener","removeEventListener","currentContainerWidth","chartContainer","getBoundingClientRect","assign","shouldRenderChart","renderChart","ReactDOM","render","components_Chart_Chart","document","getElementById"],"mappings":"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","file":"static/js/main.a273c2b8.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nexport default ChartComponent => (\n  class ResponsiveChart extends Component {\n    constructor(props) {\n      super(props)\n\n      this.state = {\n        containerWidth: null,\n      }\n\n      this.fitParentContainer = this.fitParentContainer.bind(this)\n    }\n\n    componentDidMount() {\n      this.fitParentContainer()\n      window.addEventListener('resize', this.fitParentContainer)\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('resize', this.fitParentContainer)\n    }\n\n    fitParentContainer() {\n      const { containerWidth } = this.state\n      const currentContainerWidth = this.chartContainer\n        .getBoundingClientRect().width\n\n      const shouldResize = containerWidth !== currentContainerWidth\n\n      if (shouldResize) {\n        this.setState({\n          containerWidth: currentContainerWidth,\n        })\n      }\n    }\n\n    renderChart() {\n      const parentWidth = this.state.containerWidth\n\n      return (\n        <ChartComponent {...this.props} parentWidth={parentWidth} />\n      )\n    }\n\n    render() {\n      const { containerWidth } = this.state\n      const shouldRenderChart = containerWidth !== null\n\n      return (\n        <div\n          ref={(el) => { this.chartContainer = el }}\n          className=\"Responsive-wrapper\"\n        >\n          {shouldRenderChart && this.renderChart()}\n        </div>\n      )\n    }\n  }\n)\n","export const data = [\n  { title: '2010', value: 5000},\n  { title: '2011', value: 3000},\n  { title: '2012', value: 8900},\n  { title: '2013', value: 7200},\n  { title: '2014', value: 1500},\n  { title: '2015', value: 8700},\n  { title: '2016', value: 4000},\n  { title: '2017', value: 2000},\n  { title: '2018', value: 8500},\n  { title: '2019', value: 1400}\n]\nexport const colorRange = ['#0ee5F5', '#004FA2'];\n\nexport const widthInput = 0;\nexport const heightInput = 500;\n","import React, { Component } from 'react'\nimport * as d3Axis from 'd3-axis'\nimport { select as d3Select } from 'd3-selection'\n\nimport './Axis.scss'\n\nexport default class Axis extends Component {\n  componentDidMount() {\n    this.renderAxis()\n  }\n\n  componentDidUpdate() {\n    this.renderAxis()\n  }\n\n  renderAxis() {\n    const axisType = `axis${this.props.orient}`\n    const axis = d3Axis[axisType]()\n      .scale(this.props.scale)\n      .tickSize(-this.props.tickSize)\n      .tickPadding([12])\n      .ticks([4])\n\n    d3Select(this.axisElement).call(axis)\n  }\n\n  render() {\n    return (\n      <g\n        className={`Axis Axis-${this.props.orient}`}\n        ref={(el) => { this.axisElement = el; }}\n        transform={this.props.translate}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Axis from '../Axis'\n\nexport default ({ scales, margins, svgDimensions }) => {\n  const { height, width } = svgDimensions\n\n  const xProps = {\n    orient: 'Bottom',\n    scale: scales.xScale,\n    translate: `translate(0, ${height - margins.bottom})`,\n    tickSize: height - margins.top - margins.bottom,\n  }\n\n  const yProps = {\n    orient: 'Left',\n    scale: scales.yScale,\n    translate: `translate(${margins.left}, 0)`,\n    tickSize: width - margins.left - margins.right,\n  }\n\n  return (\n    <g>\n      <Axis {...xProps} />\n      <Axis {...yProps} />\n    </g>\n  )\n}\n","import React, { Component } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { colorRange } from '../../data'\nimport { interpolateLab } from 'd3-interpolate'\n\n\nexport default class Bars extends Component {\n  constructor(props) {\n    super(props)\n\n    this.colorScale = scaleLinear()\n      .domain([0, this.props.maxValue])\n      .range(colorRange)\n      .interpolate(interpolateLab)\n  }\n\n  render() {\n    const { scales, margins, data, svgDimensions } = this.props\n    const { xScale, yScale } = scales\n    const { height } = svgDimensions\n\n    const bars = (\n      data.map(datum =>\n            <rect\n          key={datum.title}\n          x={xScale(datum.title)}\n          y={yScale(datum.value)}\n          height={height - margins.bottom - scales.yScale(datum.value)}\n          width={xScale.bandwidth()}\n          fill={this.colorScale(datum.value)}\n          onMouseOver={() => this.props.onMouseOverCallback(datum)}\n          onMouseOut={() => this.props.onMouseOutCallback(null)}\n            />\n      )\n    )\n\n    return (\n      <g>{bars}</g>\n    )\n  }\n}\n","import React from 'react'\n\nexport default ({hoveredBar, scales}) => {\n    const { xScale, yScale } = scales\n    const styles = {\n      left: `${xScale(hoveredBar.title) - 30}px`,\n      top: `${yScale(hoveredBar.value)}px`\n    }\n  \n    return (\n      <div className=\"Tooltip\" style={styles}>\n        <table>\n          <thead>\n            <tr>\n              <th colSpan=\"2\">Year: {hoveredBar.title}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td colSpan=\"1\">Deaths</td>\n              <td colSpan=\"1\">{hoveredBar.value}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    )\n  }","import React, { Component } from 'react'\nimport { scaleBand, scaleLinear } from 'd3-scale'\n\nimport { data, heightInput, widthInput } from '../../data'\nimport Axes from '../Axes'\nimport Bars from '../Bars'\nimport Tooltip from '../Tooltip'\nimport ResponsiveWrapper from '../ResponsiveWrapper'\n\nclass Chart extends Component {\n  constructor() {\n    super()\n    this.xScale = scaleBand()\n    this.yScale = scaleLinear()\n    this.state = {\n      hoveredBar: null\n    }\n  }\n\n  render() {\n    const margins = { top: 50, right: 60, bottom: 100, left: 100 }\n    const svgDimensions = {\n      width: widthInput || Math.min((this.props.parentWidth + 20), 700),\n      height: heightInput || 500\n    }\n\n    const maxValue = Math.max(...data.map(d => d.value))\n\n    const xScale = this.xScale\n      .padding(0.5)\n      .domain(data.map(d => d.title))\n      .range([margins.left, svgDimensions.width - margins.right])\n\n    const yScale = this.yScale\n      .domain([0, maxValue])\n      .range([svgDimensions.height - margins.bottom, margins.top])\n\n    return (\n      <div className=\"Chart\">\n          <svg width={svgDimensions.width} height={svgDimensions.height}>\n            <Axes\n              scales={{ xScale, yScale }}\n              margins={margins}\n              svgDimensions={svgDimensions}\n            />\n            <Bars\n              scales={{ xScale, yScale }}\n              margins={margins}\n              data={data}\n              maxValue={maxValue}\n              svgDimensions={svgDimensions}\n              onMouseOverCallback={datum => this.setState({hoveredBar: datum})}\n              onMouseOutCallback={datum => this.setState({hoveredBar: null})}\n            />\n          </svg>\n          { this.state.hoveredBar ?\n            <Tooltip\n              hoveredBar={this.state.hoveredBar}\n              scales={{ xScale, yScale }}\n            /> :\n            null\n          }\n      </div>\n    )\n  }\n}\n\nexport default ResponsiveWrapper(Chart)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n","import React from 'react'\n\nimport './App.scss'\nimport Chart from '../Chart'\n\nexport default () =>\n  <div className=\"App\">\n    <header className=\"App--header\">\n      <h2 className=\"App--header__title\">Death Toll due to Oceanic Calamities in The Last Decade.</h2>\n    </header>\n    <div className=\"App--chart__container\">\n      <Chart />\n    </div>\n  </div>\n"],"sourceRoot":""}